<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 1 Building Blocks | Urban Transportation Planning</title>
  <meta name="description" content="These are notes and assignments related to the Urban Transportation Planning class at BYU." />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 1 Building Blocks | Urban Transportation Planning" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="These are notes and assignments related to the Urban Transportation Planning class at BYU." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 1 Building Blocks | Urban Transportation Planning" />
  
  <meta name="twitter:description" content="These are notes and assignments related to the Urban Transportation Planning class at BYU." />
  

<meta name="author" content="Gregory Macfarlane, PhD, PE" />


<meta name="date" content="2020-05-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html">
<link rel="next" href="chap-tripgen.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Urban Transportation Planning</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Foreword</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="chap-blocks.html"><a href="chap-blocks.html"><i class="fa fa-check"></i><b>1</b> Building Blocks</a><ul>
<li class="chapter" data-level="1.1" data-path="chap-blocks.html"><a href="chap-blocks.html#planning-for-human-systems"><i class="fa fa-check"></i><b>1.1</b> Planning for Human Systems</a></li>
<li class="chapter" data-level="1.2" data-path="chap-blocks.html"><a href="chap-blocks.html#travel-model-building-blocks"><i class="fa fa-check"></i><b>1.2</b> Travel Model Building Blocks</a><ul>
<li class="chapter" data-level="1.2.1" data-path="chap-blocks.html"><a href="chap-blocks.html#household-travel-surveys"><i class="fa fa-check"></i><b>1.2.1</b> Household Travel Surveys</a></li>
<li class="chapter" data-level="1.2.2" data-path="chap-blocks.html"><a href="chap-blocks.html#travel-analysis-zones"><i class="fa fa-check"></i><b>1.2.2</b> Travel Analysis Zones</a></li>
<li class="chapter" data-level="1.2.3" data-path="chap-blocks.html"><a href="chap-blocks.html#highway-networks"><i class="fa fa-check"></i><b>1.2.3</b> Highway Networks</a></li>
<li class="chapter" data-level="1.2.4" data-path="chap-blocks.html"><a href="chap-blocks.html#matrices"><i class="fa fa-check"></i><b>1.2.4</b> Matrices</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="chap-blocks.html"><a href="chap-blocks.html#statistical-and-mathematical-techniques"><i class="fa fa-check"></i><b>1.3</b> Statistical and Mathematical Techniques</a><ul>
<li class="chapter" data-level="1.3.1" data-path="chap-blocks.html"><a href="chap-blocks.html#continuous-and-discrete-distributions"><i class="fa fa-check"></i><b>1.3.1</b> Continuous and Discrete Distributions</a></li>
<li class="chapter" data-level="1.3.2" data-path="chap-blocks.html"><a href="chap-blocks.html#iterative-proportional-fitting"><i class="fa fa-check"></i><b>1.3.2</b> Iterative Proportional Fitting</a></li>
<li class="chapter" data-level="1.3.3" data-path="chap-blocks.html"><a href="chap-blocks.html#regression-analysis"><i class="fa fa-check"></i><b>1.3.3</b> Regression Analysis</a></li>
<li class="chapter" data-level="1.3.4" data-path="chap-blocks.html"><a href="chap-blocks.html#numerical-optimization"><i class="fa fa-check"></i><b>1.3.4</b> Numerical Optimization</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chap-blocks.html"><a href="chap-blocks.html#hw-blocks"><i class="fa fa-check"></i>Homework</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="chap-tripgen.html"><a href="chap-tripgen.html"><i class="fa fa-check"></i><b>2</b> Trip Generation</a><ul>
<li class="chapter" data-level="2.1" data-path="chap-tripgen.html"><a href="chap-tripgen.html#trip-production"><i class="fa fa-check"></i><b>2.1</b> Trip Production</a></li>
<li class="chapter" data-level="2.2" data-path="chap-tripgen.html"><a href="chap-tripgen.html#trip-attraction"><i class="fa fa-check"></i><b>2.2</b> Trip Attraction</a></li>
<li class="chapter" data-level="" data-path="chap-tripgen.html"><a href="chap-tripgen.html#hw-tripgen"><i class="fa fa-check"></i>Homework</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="chap-distribution.html"><a href="chap-distribution.html"><i class="fa fa-check"></i><b>3</b> Trip Distribution</a></li>
<li class="chapter" data-level="4" data-path="chap-modechoice.html"><a href="chap-modechoice.html"><i class="fa fa-check"></i><b>4</b> Mode and Destination Choice</a></li>
<li class="chapter" data-level="5" data-path="chap-assignment.html"><a href="chap-assignment.html"><i class="fa fa-check"></i><b>5</b> Network Assignment and Validation</a></li>
<li class="chapter" data-level="6" data-path="chap-process.html"><a href="chap-process.html"><i class="fa fa-check"></i><b>6</b> The Planning Process</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="app-demomodel.html"><a href="app-demomodel.html"><i class="fa fa-check"></i><b>A</b> Demonstration Model</a><ul>
<li class="chapter" data-level="A.1" data-path="app-demomodel.html"><a href="app-demomodel.html#running-the-model"><i class="fa fa-check"></i><b>A.1</b> Running the Model</a></li>
<li class="chapter" data-level="A.2" data-path="app-demomodel.html"><a href="app-demomodel.html#files-and-reports"><i class="fa fa-check"></i><b>A.2</b> Files and Reports</a></li>
<li class="chapter" data-level="A.3" data-path="app-demomodel.html"><a href="app-demomodel.html#cube-tips-and-tricks"><i class="fa fa-check"></i><b>A.3</b> Cube Tips and Tricks</a><ul>
<li class="chapter" data-level="A.3.1" data-path="app-demomodel.html"><a href="app-demomodel.html#shortest-paths"><i class="fa fa-check"></i><b>A.3.1</b> Shortest Paths</a></li>
<li class="chapter" data-level="A.3.2" data-path="app-demomodel.html"><a href="app-demomodel.html#working-with-matrices"><i class="fa fa-check"></i><b>A.3.2</b> Working with Matrices</a></li>
<li class="chapter" data-level="A.3.3" data-path="app-demomodel.html"><a href="app-demomodel.html#writing-custom-scripts"><i class="fa fa-check"></i><b>A.3.3</b> Writing Custom Scripts</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="B" data-path="app-rstudio.html"><a href="app-rstudio.html"><i class="fa fa-check"></i><b>B</b> R and RStudio Help</a><ul>
<li class="chapter" data-level="B.1" data-path="app-rstudio.html"><a href="app-rstudio.html#installing"><i class="fa fa-check"></i><b>B.1</b> Installing</a></li>
<li class="chapter" data-level="B.2" data-path="app-rstudio.html"><a href="app-rstudio.html#rstudio-orientation"><i class="fa fa-check"></i><b>B.2</b> RStudio Orientation</a></li>
<li class="chapter" data-level="B.3" data-path="app-rstudio.html"><a href="app-rstudio.html#r-packages"><i class="fa fa-check"></i><b>B.3</b> R Packages</a></li>
<li class="chapter" data-level="B.4" data-path="app-rstudio.html"><a href="app-rstudio.html#working-with-tables"><i class="fa fa-check"></i><b>B.4</b> Working with Tables</a><ul>
<li class="chapter" data-level="B.4.1" data-path="app-rstudio.html"><a href="app-rstudio.html#reading-data"><i class="fa fa-check"></i><b>B.4.1</b> Reading Data</a></li>
<li class="chapter" data-level="B.4.2" data-path="app-rstudio.html"><a href="app-rstudio.html#modifying-and-summarizing-tables"><i class="fa fa-check"></i><b>B.4.2</b> Modifying and Summarizing Tables</a></li>
<li class="chapter" data-level="B.4.3" data-path="app-rstudio.html"><a href="app-rstudio.html#app-mutate"><i class="fa fa-check"></i><b>B.4.3</b> Mutate, Summarize, and Group</a></li>
</ul></li>
<li class="chapter" data-level="B.5" data-path="app-rstudio.html"><a href="app-rstudio.html#graphics-with-ggplot"><i class="fa fa-check"></i><b>B.5</b> Graphics with <code>ggplot</code></a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Urban Transportation Planning</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="chap-blocks" class="section level1">
<h1><span class="header-section-number">Chapter 1</span> Building Blocks</h1>
<p>This chapter contains concepts, definitions, and mathematical techniques that will
be used throughout the semester. Critical terms to understand are given in <strong>bold</strong>.</p>
<div id="planning-for-human-systems" class="section level2">
<h2><span class="header-section-number">1.1</span> Planning for Human Systems</h2>
<p>If you look out on any sufficiently busy road, you will see a steady stream of
vehicles passing by. Each vehicle is largely indistinguishable from the others,
and it is easy as an engineer responsible for that road to see the cars driving
by as little more than an input to a problem. But the <em>people</em> inside the cars
should not be indistinguishable from each other. Each person who is driving or
riding in each of those cars has their own reasons to be driving on that road.
One person might be driving to work; one person might be trying to get home to
his or her family. Another car might hold a family going on vacation, or a group
of friends heading to a movie.</p>
<p>If you don’t recognize that each person who travels is different, with different
needs and purposes, then it is easy to look only at the <strong>supply</strong> of transportation
infrastructure. Is the road wide enough? Is the traffic signal timed appropriately?
But as with anything in the economy transportation is a function of both supply
and <strong>demand</strong>. Why are so many people trying to get down this one road <em>right now</em>?
Why didn’t more people take transit? Why didn’t some people choose a different
destination? Or why didn’t some people just stay home in the first place?</p>
<p>Transportation planning therefore must be concerned with both the supply of
infrastructure and the demand for travel. For the most part, economists consider
travel a <strong>derived demand</strong>, which means people only go to the hassle of
travelling somewhere if they have some other reason to be there. No one
typically just drives around (with the possible exception of teenagers on a
weekend night); they are going to work, or school, or a social engagement, or
<em>something</em>.</p>
<p>Travel demand has not been stable over time. The availability of inexpensive
automobiles in the 20th Century created demand for inter-city and intra-urban
roads that did not exist before. Rising labor force participation rates for
women radically changed the number and types of trips the average household
makes in an average day. Technological developments like teleconferencing and
smartphone-enabled ridehailing could generate different trends. At the same
time, populations in most regions continue to grow. <strong>Planning</strong> for future
transportation infrastructure is difficult because of the uncertainty of the
future, but it is necessary to keep economies rolling and preseve or improve
quality of life.</p>
<p>In the United States and most societies with some democratic process,
<strong>decisions</strong> about what transportation facilities to build, which policies to
implement, and how to build a city generally fall to <strong>decision makers</strong>. These
decision makers consist of mayors, city councils, planning commissions,
state legislatures, Congress, state and federal agencies, and innumerable others
who are elected by the public, or who are accountable to others who have been.
In making decisions about how to spend public money on civil infrastructure or
enact tax or other policies, decision makers consult <strong>plans</strong> developed by
professional engineers and planners.</p>
<p>As engineers and planners, we are rarely in a position to <em>make</em> decisions, but
we have a responsibility to provide accurate data and technical analysis to
support decision makers. There is a misconception that transportation planners
must accurately predict the future to be relevant. The purpose of transportation
planning is not to perfectly envision what will happen under every scenario,
it is to provide information that will help make good decisions now so that
the future is at least as pleasant as the present. We all have hopes for what
our lives and community will look like ten or twenty years from now; it may not
be possible for anyone to provide analysis entirely free of all personal bias.
But as you conduct your work as an engineer and planner, you owe the public your
integrity and competence as you provide information to their representatives.</p>
</div>
<div id="travel-model-building-blocks" class="section level2">
<h2><span class="header-section-number">1.2</span> Travel Model Building Blocks</h2>
<p>In this section, we present some of the terms used in transportation planning
and modeling, as well as some of the data objects used in constructing travel
demand models.</p>
<div id="household-travel-surveys" class="section level3">
<h3><span class="header-section-number">1.2.1</span> Household Travel Surveys</h3>
<p>Travel demand models try to represent individual behavior. How many trips
does the average household make per day? How do people respond to changes in
transit fare? And how can a modeler know if the model accurately reflects
total traffic?</p>
<p>Household travel surveys are a critical component of much travel modeling
practice and research, and are a primary way to answer some of these questions.
In a travel survey, a regional planning
agency<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> will recruit households
to participate in the survey. Often there is some kind of reward to encourage
participation, like a gift card or raffle. Once recruited, household members
fill out a diary of their activities on an assigned day; Figure
<a href="chap-blocks.html#fig:travel-diary">1.1</a> shows an example of one activity from a survey diary.
From the example, you can see the kinds of data that are available: where the
person traveled, which travel mode they used, and what was their reason for
making the trip.</p>
<div class="figure"><span id="fig:travel-diary"></span>
<img src="images/travel_diary.png" alt="Example travel survey diary entry." width="100%" />
<p class="caption">
Figure 1.1: Example travel survey diary entry.
</p>
</div>
<p>Not all travel surveys are filled in on forms; nowadays telephone interviews or
mobile applications are more common (more on that below). But for decades, paper
travel surveys were the basis of almost all transportation behavior science.</p>
<p>Once the surveys are collected, the data is usually processed into several tables
stored in different files or a database.</p>
<ul>
<li>A <strong>Households</strong> table has one row for each household in the dataset, including
information about the number of people in the household, the number of vehicles,
and the household income.</li>
<li>A <strong>Persons</strong> table has one row for each person in the dataset — including
which household they are a part of (to link with the households table) — and
personal attributes like age, student or worker status.</li>
<li>A <strong>Vehicles</strong> table has one row for each vehicle owned by the households in
in the dataset, including attributes like model year, vehicle class, and fuel
efficiency.</li>
<li>A <strong>Trips</strong> table has one row for each trip taken by each person in the dataset.
This table can be linked against the other tables if necessary, and contains
information like the trip purpose and many other elements collected with the form
in Figure <a href="chap-blocks.html#fig:travel-diary">1.1</a>.</li>
</ul>
<p>Tables <a href="chap-blocks.html#tab:show-nhts-hh">1.1</a> through <a href="chap-blocks.html#tab:show-nhts-trips">1.4</a> show
data collected from one household in the 2017 National Household Travel Survey.
The household contains four people, two of whom are working adults in their late
thirties. (the other two are children, and the NHTS did not collect their trip
data). The household has two vehicles, and on the survey travel day person 2
appeared to make a few very long trips. It’s impossible to know if this
is a typical day for this person or not, but that’s the data that was collected.</p>
<table>
<caption><span id="tab:show-nhts-hh">Table 1.1: </span>NHTS Households File</caption>
<thead>
<tr class="header">
<th align="left">houseid</th>
<th align="right">hhsize</th>
<th align="right">numadlt</th>
<th align="right">wrkcount</th>
<th align="right">hhvehcnt</th>
<th align="left">hhfaminc</th>
<th align="right">wthhfin</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">30000082</td>
<td align="right">4</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="left">$100,000 to $124,999</td>
<td align="right">1148.809</td>
</tr>
</tbody>
</table>
<table>
<caption><span id="tab:show-nhts-persons">Table 1.2: </span>NHTS Persons File</caption>
<thead>
<tr class="header">
<th align="left">houseid</th>
<th align="left">personid</th>
<th align="right">r_age</th>
<th align="left">educ</th>
<th align="left">r_sex</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">30000082</td>
<td align="left">01</td>
<td align="right">39</td>
<td align="left">Graduate degree or professional degree</td>
<td align="left">Female</td>
</tr>
<tr class="even">
<td align="left">30000082</td>
<td align="left">02</td>
<td align="right">38</td>
<td align="left">Bachelor’s degree</td>
<td align="left">Male</td>
</tr>
</tbody>
</table>
<table>
<caption><span id="tab:show-nhts-vehicles">Table 1.3: </span>NHTS Vehicles File</caption>
<thead>
<tr class="header">
<th align="left">houseid</th>
<th align="left">vehid</th>
<th align="right">vehyear</th>
<th align="left">make</th>
<th align="left">model</th>
<th align="left">fueltype</th>
<th align="right">od_read</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">30000082</td>
<td align="left">01</td>
<td align="right">2011</td>
<td align="left">Mazda</td>
<td align="left">Mazda3</td>
<td align="left">Gas</td>
<td align="right">83644</td>
</tr>
<tr class="even">
<td align="left">30000082</td>
<td align="left">02</td>
<td align="right">2007</td>
<td align="left">Toyota</td>
<td align="left">Yaris</td>
<td align="left">Gas</td>
<td align="right">120615</td>
</tr>
</tbody>
</table>
<table>
<caption><span id="tab:show-nhts-trips">Table 1.4: </span>NHTS Trips File</caption>
<thead>
<tr class="header">
<th align="left">houseid</th>
<th align="left">personid</th>
<th align="left">strttime</th>
<th align="left">endtime</th>
<th align="right">trpmiles</th>
<th align="left">trptrans</th>
<th align="left">trippurp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">30000082</td>
<td align="left">01</td>
<td align="left">2017-10-10 07:45:00</td>
<td align="left">2017-10-10 07:52:00</td>
<td align="right">2.710</td>
<td align="left">Car</td>
<td align="left">Home-based trip (other)</td>
</tr>
<tr class="even">
<td align="left">30000082</td>
<td align="left">01</td>
<td align="left">2017-10-10 08:09:00</td>
<td align="left">2017-10-10 08:13:00</td>
<td align="right">1.432</td>
<td align="left">Car</td>
<td align="left">Not a home-based trip</td>
</tr>
<tr class="odd">
<td align="left">30000082</td>
<td align="left">01</td>
<td align="left">2017-10-10 08:24:00</td>
<td align="left">2017-10-10 08:28:00</td>
<td align="right">0.777</td>
<td align="left">Car</td>
<td align="left">Not a home-based trip</td>
</tr>
<tr class="even">
<td align="left">30000082</td>
<td align="left">01</td>
<td align="left">2017-10-10 16:53:00</td>
<td align="left">2017-10-10 16:57:00</td>
<td align="right">1.075</td>
<td align="left">Car</td>
<td align="left">Not a home-based trip</td>
</tr>
<tr class="odd">
<td align="left">30000082</td>
<td align="left">01</td>
<td align="left">2017-10-10 17:18:00</td>
<td align="left">2017-10-10 17:26:00</td>
<td align="right">2.727</td>
<td align="left">Car</td>
<td align="left">Home-based trip (other)</td>
</tr>
<tr class="even">
<td align="left">30000082</td>
<td align="left">02</td>
<td align="left">2017-10-10 07:30:00</td>
<td align="left">2017-10-10 07:33:00</td>
<td align="right">2.136</td>
<td align="left">Car</td>
<td align="left">Home-based trip (shopping)</td>
</tr>
<tr class="odd">
<td align="left">30000082</td>
<td align="left">02</td>
<td align="left">2017-10-10 07:38:00</td>
<td align="left">2017-10-10 08:50:00</td>
<td align="right">88.581</td>
<td align="left">Car</td>
<td align="left">Not a home-based trip</td>
</tr>
<tr class="even">
<td align="left">30000082</td>
<td align="left">02</td>
<td align="left">2017-10-10 08:58:00</td>
<td align="left">2017-10-10 09:49:00</td>
<td align="right">45.341</td>
<td align="left">Car</td>
<td align="left">Not a home-based trip</td>
</tr>
<tr class="odd">
<td align="left">30000082</td>
<td align="left">02</td>
<td align="left">2017-10-10 10:51:00</td>
<td align="left">2017-10-10 12:24:00</td>
<td align="right">28.208</td>
<td align="left">Car</td>
<td align="left">Not a home-based trip</td>
</tr>
<tr class="even">
<td align="left">30000082</td>
<td align="left">02</td>
<td align="left">2017-10-10 17:00:00</td>
<td align="left">2017-10-10 17:05:00</td>
<td align="right">0.239</td>
<td align="left">Walk</td>
<td align="left">Not a home-based trip</td>
</tr>
<tr class="odd">
<td align="left">30000082</td>
<td align="left">02</td>
<td align="left">2017-10-10 19:15:00</td>
<td align="left">2017-10-10 19:26:00</td>
<td align="right">0.267</td>
<td align="left">Walk</td>
<td align="left">Not a home-based trip</td>
</tr>
<tr class="even">
<td align="left">30000082</td>
<td align="left">02</td>
<td align="left">2017-10-10 19:30:00</td>
<td align="left">2017-10-10 20:43:00</td>
<td align="right">29.293</td>
<td align="left">Car</td>
<td align="left">Not a home-based trip</td>
</tr>
</tbody>
</table>
<p>Note that that the households data in Table <a href="chap-blocks.html#tab:show-nhts-hh">1.1</a> contains a
numeric column called <code>wthhfin</code>. This is a survey <em>weight</em>. Because it is impossible
to sample everyone in a population, there needs to be a way to <em>expand</em> the survey
to the population. What this number means is that the selected household carries
the same <em>weight</em> in this survey as approximately 1100 households in the general
population. Also note that not every household’s weight will be equal; because
some population groups have different survey response weights, some households
will need to be weighted more heavily so that the survey reflects the general
population. Most software packages have functions that allow you to
calculate statistics or estimate models including weighted values. The code
chunk below shows how to calculate the average number of workers per household
with and without weights in R; as you can see, omitting the weights leads
to a substantial change in the survey analysis.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="co"># Average workers per household with no weights</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">mean</span>(nhts_households<span class="op">$</span>wrkcount)</a></code></pre></div>
<pre><code>## [1] 0.9891438</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="co"># Average workers per household, weighted</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">weighted.mean</span>(nhts_households<span class="op">$</span>wrkcount, nhts_households<span class="op">$</span>wthhfin)</a></code></pre></div>
<pre><code>## [1] 1.173206</code></pre>
<p>Travel survey methodology is changing rapidly as a result of mobile devices with
location capabilities. First, most travel surveys are now administered through a
mobile application: respondents are invited to install an app on their smartphone
that tracks the respondent’s position and occasionally asks questions about
trip purpose or mode. This makes collecting and cleaning data considerably easier
than traditional paper surveys, and it also lowers the response burden for the
survey participants. Another change that mobile data has brought to travel surveys
is the introduction of large datasets of location information that planners can
purchase directly from cellular providers or third-party providers. Though these
data do not have all the information on demographics and preferences a survey
would provide, they provide a considerably larger and more detailed sample
on things like overall trip flows. As a result, it may be possible to collect
surveys less frequently, or to reduce survey sample sizes.</p>
</div>
<div id="travel-analysis-zones" class="section level3">
<h3><span class="header-section-number">1.2.2</span> Travel Analysis Zones</h3>
<p>SE Data</p>
<p>Households</p>
<p>Firms</p>
</div>
<div id="highway-networks" class="section level3">
<h3><span class="header-section-number">1.2.3</span> Highway Networks</h3>
<p>Functional Type</p>
<p>Link capacity</p>
<p>Free-flow speed</p>
<p>Centroid connectors</p>
</div>
<div id="matrices" class="section level3">
<h3><span class="header-section-number">1.2.4</span> Matrices</h3>
<p>Skim matrices</p>
<p>OD matrices</p>
</div>
</div>
<div id="statistical-and-mathematical-techniques" class="section level2">
<h2><span class="header-section-number">1.3</span> Statistical and Mathematical Techniques</h2>
<p>Many elements of travel modeling and forecasting require complex numerical and
quantitative techniques. In this section we will present some of these techniques.</p>
<div id="continuous-and-discrete-distributions" class="section level3">
<h3><span class="header-section-number">1.3.1</span> Continuous and Discrete Distributions</h3>
</div>
<div id="iterative-proportional-fitting" class="section level3">
<h3><span class="header-section-number">1.3.2</span> Iterative Proportional Fitting</h3>
<p>Iterative Proportional Fitting</p>
</div>
<div id="regression-analysis" class="section level3">
<h3><span class="header-section-number">1.3.3</span> Regression Analysis</h3>
</div>
<div id="numerical-optimization" class="section level3">
<h3><span class="header-section-number">1.3.4</span> Numerical Optimization</h3>
<p>Let’s say you have a function with a</p>
</div>
</div>
<div id="hw-blocks" class="section level2 unnumbered">
<h2>Homework</h2>
<blockquote>
<p>Some of these questions require a completed run of the demonstration model.
For instructions on accessing and running the model, see the <a href="app-demomodel.html#app-demomodel">Appendix</a></p>
</blockquote>
<ol style="list-style-type: decimal">
<li><p>How does recreational transportation — i.e., going for a bike ride — fit into the
theory of derived demand for travel? Write a short paragraph explaining your thoughts
based on what we covered in lecture and the text.</p></li>
<li><p>Think about a recent transportation-related construction project you have
seen in your community. Find an article in a local newspaper discussing the project.
Why was the project built (or why is it being built)? Who supports the project?
Does anyone oppose the project? Write a short paragraph including a link and
citation to the article.</p></li>
<li><p>Download the <a href="https://rmove.rsginc.com/">rmove</a> mobile application, and log
in with the password given you by the instructor. Track your daily activies and
trips for <em>three days</em>. You may include at most one weekend day. Write a short
summary of your activities, including:</p>
<ul>
<li>How many trips you took each day</li>
<li>The mode split of all your trips</li>
</ul></li>
<li><p>With the TAZ layer and socioeconomic data in the demonstration model, make a
set of choropleth maps showing: total households; household density; total jobs;
job density; density of manufacturing vs office vs retail employment. Compare
your maps with aerial imagery from Google Maps or OpenStreetMap. Describe the
spatial patterns of the socioeconomic data in the model region. Identify which
zones constitute the central business district, and identify any outlying
employment centers.</p></li>
<li><p>With the highway network layer in the demonstration model, create maps
showing: link functional type; link free flow speed; and link hourly capacity.
Compare your maps with aerial imagery from Google Maps or OpenStreetMap.
Identify the major freeways and principal arterials in the model region. <em>Note</em>:
you will need to run the demonstration model through the network setup step to
calculate the capacities and append them to the link.</p></li>
<li><p>Find the shortest free-flow speed path along the network between two zones.
Find the shortest distance path between the same two zones. Are the paths the
same? Do the paths match what an online mapping service shows for a trip in the
middle of the night?</p></li>
<li><p>Open the highway assignment report, which shows vehicle hours and miles
traveled by facility type. What percent of the region’s VMT occurs on freeways?
What percent of the region’s lane-miles are freeways?</p></li>
<li><p>Open the output highway network. Create a map of the
highway links showing PM period level of service based on the volume to capacity
ratios in the table below. How would you characterize traffic in Roanoke? Which
is the worst-performing major facility?</p></li>
</ol>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>Like a Metropolitan Planning Organization (MPO).<a href="chap-blocks.html#fnref1" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="chap-tripgen.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["ceen565.pdf", "ceen565.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
